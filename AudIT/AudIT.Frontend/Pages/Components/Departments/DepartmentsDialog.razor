@using Frontend.EntityDtos.Department
@using Orientation = Radzen.Orientation
@inject DialogService _dialogService
@inject NavigationManager _navigationManager
<RadzenStack Orientation="Orientation.Vertical">
    <RadzenCard Variant="Variant.Outlined">
        <RadzenStack Orientation=" Orientation.Vertical">
            @if (Departments.Any())
            {
                <RadzenDataGrid Data="Departments" TItem="BaseDepartmentDto">
                    <Columns>
                        <RadzenDataGridColumn Title="Name" Property="Name"/>
                        <RadzenDataGridColumn Title="Address" Property="Address"/>
                        <RadzenDataGridColumn Title="HomePhoneNumber" Property="HomePhoneNumber"/>

                    </Columns>
                </RadzenDataGrid>

                <RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.Center">
                    <RadzenButton Text="Configure" Click="@ConfigureDepartments" ButtonStyle="ButtonStyle.Warning" Icon="settings"/>
                    <RadzenButton Click="@CloseDialog" Text="Close" ButtonStyle="ButtonStyle.Info" Icon="close"/>

                </RadzenStack>
            }
            else
            {
                <RadzenText Text="No departments found" TextStyle="TextStyle.H5" TextAlign="TextAlign.Center"/>
                <RadzenButton Text="Configure" Click="@ConfigureDepartments" ButtonStyle="ButtonStyle.Warning" Icon="settings"/>
            }
        </RadzenStack>
    </RadzenCard>
</RadzenStack>

@code {


    [Parameter] public List<BaseDepartmentDto> Departments { get; set; }


    private void ConfigureDepartments(MouseEventArgs obj)
    {
        _navigationManager.NavigateTo("/departments");
    }

    private void CloseDialog(MouseEventArgs obj)
    {
        _dialogService.Close();
    }

}